package test.webCrawlerM;

import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;

public class Allin1Test {
	public static String getModifyDate(String frontURL) {
		URL u = null;
		HttpURLConnection http = null;
		try {
		u = new URL(frontURL);
		http = (HttpURLConnection) u.openConnection();
		http.setRequestMethod("HEAD");
		} catch (MalformedURLException e) {
		// DO Auto-generated catch block
		e.printStackTrace();
		} catch (IOException e) {
		// DO Auto-generated catch block
		e.printStackTrace();
		}
		Date lastModify = new Date(http.getLastModified());


		//SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
		SimpleDateFormat sdf = new SimpleDateFormat("YYYY-MM-dd HH:mm:ss");
		String date = sdf.format(lastModify);
		System.out.println("页面更新时间是:"+date);

		if(date.indexOf("1970")>=0){
		String str = HttpClientUtil.get(frontURL);
		Date d =HtmlDateUtil.drawDate(str);
		date =sdf.format(d);
		}

		System.out.println(u + "最后更新时间：" + date);
		return date;
		}

	
	public static void main(String []args){
		
	}
}
